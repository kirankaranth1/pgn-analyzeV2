"""
Stage 3: Build Node Chain

Converts the tree structure into a linear array for sequential processing.
Supports both mainline-only and full variation expansion.
"""

